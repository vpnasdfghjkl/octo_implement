#!/usr/bin/env python3
"""Kuavo机器人基础手臂位置控制案例展示

这个案例演示了如何使用Kuavo机器人SDK控制机器人的手臂进行位置控制。

功能描述：
- 初始化ROS节点
- 初始化Kuavo机器人实例
- 将机器人手臂控制模式设置为位置规划模式
- 发布手臂关节数据，控制手臂运动到指定位置
- 等待一段时间
- 控制手臂移动到其他位置
- 手臂归中
- 关闭手臂控制
"""

import rospy
import time
from kuavoRobotSDK import kuavo
import os
import numpy as np

"""功能函数"""


if __name__ == "__main__":

    # 初始化节点
    rospy.init_node('demo_test')

    # 初始化机器人
    robot_instance = kuavo("3_7_kuavo")

    # 第一个测试点位，出现了机器人的手
    time.sleep(2)

    joint_positions = [-0.177154466015625, -0.5136143005439716, 0.05462870286205965, -0.010960834988108214, -4.098642983559882, 0.38166783349560096, -4.426262828933769, 4.977336772978864, -5.212953876700266, -10.808288604697038, -0.7978020306549206, 5.760721568514648, -5.038349771710549, 3.4429545756610236]

    robot_instance.set_arm_traj_position(joint_positions)

    # # 第二个测试点位，出现了机器人的手

    # joint_positions = [1.2537139213667798, -0.5567970643905077, -1.7750774449410283, -4.230151137924797, -9.541054058193154, 4.9263253962212135, -2.389941133295449, -0.6100114161741348, -16.96517867658041, -12.871745060539876, -53.46759991838341, 12.78896921713227, -40.0, 16.12523303119317]

    # robot_instance.set_arm_traj_position(joint_positions)
    #
    # # 第三个测试点位，出现了机器人的手

    # joint_positions = [1.2503971557050466, -1.7130779274698642, -1.6302835508178057, -4.340903410604889, -4.634842519609866, 4.919402947669307, -3.4687652726514306, -0.09666734350081954, -23.532148395296907, -25.061186455762105, -70.40776731003075, -0.21211705974273556, 1.6222315751231622, 25.45067433637155]
    # robot_instance.set_arm_traj_position(joint_positions)
    #
    # # 第一个测试点位，出现在桌子上

    # joint_positions = [1.2576545474548597, -1.7006060475577023, -1.6112360453575751, -4.3703160742947444, -4.653722590298281, 4.911634594072286, -3.465571023359244, 0.008337897214334589, -24.426394483472315, -27.58874731242343, -77.6341817580829, -0.19481666581483628, 1.606478070233859, 25.106513641168693]
    # robot_instance.set_arm_traj_position(joint_positions)

    # # 第二个测试点位，出现在桌子上

    # joint_positions = [0.9144626352412929, -4.282514625599571, 0.42270632612580616, -4.817210939770101, 6.62775771081841, 5.348668341263778, -1.867620415671646, 7.9125897432570955, -10.781153764332725, -26.7866302098273, -60.85647368454363, 32.203841866725256, -31.17333077148293, 4.062642309008137]
    # robot_instance.set_arm_traj_position(joint_positions)

    # # 第三个测试点位，出现在桌子上

    # joint_positions = [1.3367450607365439, -4.280030842753942, -0.028314207940520975, -4.856796509247316, 3.183183320731329, 5.52735269133349, -1.8651643395916078, -0.9330744069425446, -29.890962246695285, 4.97029426053181, -61.39277034600933, -9.501385343186103, -7.8551639908153765, 6.58070184502643]
    # robot_instance.set_arm_traj_position(joint_positions)
    
    time.sleep(1.5)
    joint_positions = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
    robot_instance.set_arm_traj_position(joint_positions)

    print("当前程序执行结束，退出程序")
